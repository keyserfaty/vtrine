!function e(t,o,r){function a(s,i){if(!o[s]){if(!t[s]){var d="function"==typeof require&&require;if(!i&&d)return d(s,!0);if(n)return n(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=o[s]={exports:{}};t[s][0].call(l.exports,function(e){var o=t[s][1][e];return a(o||e)},l,l.exports,e,t,o,r)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.d=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},s=e("./helpers/store"),i=e("./helpers"),d=e("./constants"),c=e("./components/Downloads"),l=r(c),u=e("./components/SearchBoxMain"),p=r(u),f=e("./components/OnBoarding"),N=r(f),y=o.d=document,h={routes:{path:"/"},searchValue:"",displayDownloads:!1,imagesQueue:["./statics/images/1.jpg","./statics/images/1.jpg"],imagesList:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case"ON_INPUT_ENTER_KEY_DOWN":return n({},e,{searchValue:t.payload.searchValue,routes:{path:"/search"}});case"ON_TOGGLE_DOWNLOADS":return n({},e,{displayDownloads:!e.displayDownloads});case"ON_CLEAR_ALL_DOWNLOADS":return n({},e,{imagesQueue:[]});case"ON_ADD_IMAGE_TO_QUEUE":return n({},e,{imagesQueue:[].concat(a(e.imagesQueue),a(t.payload.image))});case"ON_REMOVE_IMAGE_FROM_QUEUE":return n({},e,{imagesQueue:e.imagesQueue.filter(function(e,o){return o!==Number(t.payload.id)})});case"ON_NEW_IMAGES":return n({},e,{imagesList:t.payload.images});default:return e}},v=(0,s.createStore)(_),O=y.querySelector("body"),E=y.querySelector("header"),g=E.querySelector(".downloads"),m=O.querySelector(".single");v.subscribe(function(e,t){var o=n({dispatch:v.dispatch},e),r=y.querySelector("#search"),a=m.querySelector("#on-boarding");"/"!==e.routes.path||(0,i.exists)(r)||m.appendChild((0,p.default)(o)),"/"!==e.routes.path&&(0,i.exists)(r)&&r.parentNode.removeChild(r);var s=localStorage.getItem("first_load");"/search"!==e.routes.path||(0,i.exists)(a)||(0,i.exists)(s)||(m.appendChild((0,N.default)(o)),localStorage.setItem("first_load",!1));var c=y.querySelector("#download");switch(e.displayDownloads&&(0,i.exists)(c)&&(c.parentNode.removeChild(c),O.appendChild((0,l.default)(o))),e.displayDownloads&&!(0,i.exists)(c)&&O.appendChild((0,l.default)(o)),!e.displayDownloads&&(0,i.exists)(c)&&c.parentNode.removeChild(c),t.type){case"ON_INPUT_ENTER_KEY_DOWN":window.history.pushState("","","search?q="+e.searchValue),v.dispatch({type:"ON_FETCH_IMAGES"});break;case"ON_FETCH_IMAGES":var u=new XMLHttpRequest;u.addEventListener("load",function(){v.dispatch({type:"ON_NEW_IMAGES",payload:{images:JSON.parse(this.responseText)}})}),u.open("GET",d.url+d.clientId),u.send();break;default:return!1}}),window.addEventListener("load",function(){v.dispatch({type:"ON_WINDOW_LOAD"})}),window.addEventListener("keyup",function(e){32===e.keyCode&&v.dispatch({type:"ON_SPACE_BAR"})}),g.addEventListener("click",function(){v.dispatch({type:"ON_TOGGLE_DOWNLOADS"})})},{"./components/Downloads":2,"./components/OnBoarding":3,"./components/SearchBoxMain":4,"./constants":5,"./helpers":7,"./helpers/store":8}],2:[function(e,t,o){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(o,"__esModule",{value:!0});var a=e("../helpers/Node"),n=function(e){var t=e.dispatch,o=e.imagesQueue,n=function(){t({type:"ON_CLEAR_ALL_DOWNLOADS"})},s=function(){t({type:"ON_DOWNLOAD_ALL_DOWNLOADS"})},i=function(e){e.target.parentNode.id.length&&("remove"===e.target.attributes[0].nodeValue&&t({type:"ON_REMOVE_IMAGE_FROM_QUEUE",payload:{id:e.target.parentNode.id}}),"download"===e.target.attributes[0].nodeValue&&t({type:"ON_DOWNLOAD_IMAGE_FROM_QUEUE",payload:{id:e.target.parentNode.id}}))};return(0,a.Node)("div",{id:"download"},(0,a.Node)("div",{class:"header"},(0,a.Node)("div",{class:"title"},"My Collection"),(0,a.Node)("div",{class:"clear",onClick:n},"Clear all")),(0,a.Node)("div",{class:"arrow"}),(0,a.Node)("div",{class:"images"},(0,a.Node)("div",{class:"content"},a.Node.apply(void 0,["ul",{onClick:i}].concat(r(o.map(function(e,t){return(0,a.Node)("li",{class:"image",style:"background: url('"+e+"')"},(0,a.Node)("div",{class:"actions",id:t},(0,a.Node)("div",{class:"remove"}),(0,a.Node)("div",{class:"download"})))})))))),(0,a.Node)("div",{class:"footer"},(0,a.Node)("button",{onClick:s},"Download selection")))};o.default=n},{"../helpers/Node":6}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e("../helpers/Node"),a=function(e){return(0,r.Node)("div",{id:"on-boarding"},(0,r.Node)("div",{class:"image"}),(0,r.Node)("div",{class:"caption"},"Press spacebar to generate a photo"),(0,r.Node)("div",{class:"footer"},(0,r.Node)("div",{class:"skip"},"Skip"),(0,r.Node)("div",{class:"nav"},(0,r.Node)("ul",null,(0,r.Node)("li"),(0,r.Node)("li"),(0,r.Node)("li"))),(0,r.Node)("div",{class:"next"},"Next")))};o.default=a},{"../helpers/Node":6}],4:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e("../helpers/Node"),a=function(e){var t=e.dispatch,o=function(e){13===e.keyCode&&t({type:"ON_INPUT_ENTER_KEY_DOWN",payload:{searchValue:e.target.value}})};return(0,r.Node)("div",{id:"search"},(0,r.Node)("div",{class:"search-box",onKeyUp:o},(0,r.Node)("div",{class:"icon"}),(0,r.Node)("input",{type:"text",placeholder:"Search photos"})))};o.default=a},{"../helpers/Node":6}],5:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.url="https://api.unsplash.com/photos/?client_id=",o.clientId="6322e07de0e155ba0d9eca8d67cf27bb9b45417f2feb1a234baa363a1dda3dbe"},{}],6:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Node=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("../app"),n={onClick:"click",onKeyUp:"keyup",onLoad:"load"};o.Node=function(e,t){for(var o=arguments.length,s=Array(o>2?o-2:0),i=2;i<o;i++)s[i-2]=arguments[i];var d=a.d.createElement(e);return null!=t&&Object.keys(t).forEach(function(e){n.hasOwnProperty(e)?d.addEventListener(n[e],t[e]):d.setAttribute(e,t[e])}),s.length>0&&s.forEach(function(e){"string"==typeof e&&(d.innerHTML=e),"object"===(void 0===e?"undefined":r(e))&&d.appendChild(e)}),d}},{"../app":1}],7:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.exists=function(e){return null!=e}},{}],8:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.createStore=function(e){var t=void 0,o=[];return{dispatch:function(r){t=e(t,r),console.log(r,t),o.forEach(function(e){return e(t,r)})},getState:function(){return t},subscribe:function(e){o.push(e)}}}},{}]},{},[1]);
//# sourceMappingURL=app.min.js.map
