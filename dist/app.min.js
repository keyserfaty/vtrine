!function e(t,r,o){function n(i,d){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!d&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[i]={exports:{}};t[i][0].call(u.exports,function(e){var r=t[i][1][e];return n(r||e)},u,u.exports,e,t,r,o)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)n(o[i]);return n}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.d=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=e("./helpers/Node"),a=e("./helpers/store"),i=r.d=document,d={searchValue:"",displayDownloads:!1,imagesQueue:["./statics/images/1.jpg","./statics/images/1.jpg"]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case"ON_INPUT_ENTER_KEY_DOWN":return o({},e,{searchValue:t.payload.searchValue});case"ON_TOGGLE_DOWNLOADS":return o({},e,{displayDownloads:!e.displayDownloads});case"ON_CLEAR_ALL_DOWNLOADS":return o({},e,{imagesQueue:[]});case"ON_REMOVE_IMAGE_FROM_QUEUE":return o({},e,{imagesQueue:e.imagesQueue.filter(function(e,r){return r!==Number(t.payload.id)})});default:return e}},c=(0,a.createStore)(l),u=i.querySelector("input"),s=i.querySelector("body"),p=i.querySelector("header"),f=p.querySelector(".downloads");c.subscribe(function(e,t){switch(t.type){case"ON_INPUT_ENTER_KEY_DOWN":console.log("should redirect");break;case"ON_TOGGLE_DOWNLOADS":var r=(0,n.Node)("div",{class:"arrow"}),o=(0,n.Node)("ul",null),a=(0,n.Node)("div",{class:"content"},o),d=(0,n.Node)("div",{class:"images"},a),l=(0,n.Node)("button",null,"Download selection"),u=(0,n.Node)("div",{class:"footer"},l),p=(0,n.Node)("div",{class:"clear"},"Clear all"),f=(0,n.Node)("div",{class:"title"},"My Collection"),N=(0,n.Node)("div",{class:"header"},f,p),_=(0,n.Node)("div",{id:"download"},N,r,d,u);if(e.displayDownloads)s.appendChild(_),c.dispatch({type:"_RENDER_IMAGES_QUEUE"}),p.addEventListener("click",function(){c.dispatch({type:"ON_CLEAR_ALL_DOWNLOADS"})}),l.addEventListener("click",function(){c.dispatch({type:"ON_DOWNLOAD_ALL_DOWNLOADS"})}),o.addEventListener("click",function(e){e.target.parentNode.id.length&&("remove"===e.target.attributes[0].nodeValue&&c.dispatch({type:"ON_REMOVE_IMAGE_FROM_QUEUE",payload:{id:e.target.parentNode.id}}),"download"===e.target.attributes[0].nodeValue&&c.dispatch({type:"ON_DOWNLOAD_IMAGE_FROM_QUEUE",payload:{id:e.target.parentNode.id}}))});else{var y=i.querySelector("#download");s.removeChild(y)}break;case"ON_CLEAR_ALL_DOWNLOADS":var O=s.querySelector("#download .content"),E=O.querySelector("ul");null!=E&&O.removeChild(E);break;case"_RENDER_IMAGES_QUEUE":case"ON_REMOVE_IMAGE_FROM_QUEUE":var v=s.querySelector("#download .content ul"),h=v.querySelectorAll("li");null!=h&&h.forEach(function(e){return v.removeChild(e)});e.imagesQueue.map(function(e,t){return(0,n.Node)("li",{class:"image",style:"background: url('"+e+"')"},(0,n.Node)("div",{class:"actions",id:t},(0,n.Node)("div",{class:"remove"}),(0,n.Node)("div",{class:"download"})))}).forEach(function(e){return v.appendChild(e)})}}),window.addEventListener("load",function(){c.dispatch({type:"ON_WINDOW_LOAD"})}),u.addEventListener("keyup",function(e){13===e.keyCode&&c.dispatch({type:"ON_INPUT_ENTER_KEY_DOWN",payload:{searchValue:e.target.value}})}),f.addEventListener("click",function(){c.dispatch({type:"ON_TOGGLE_DOWNLOADS"})})},{"./helpers/Node":2,"./helpers/store":3}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NodeSerializer=r.Node=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("../app"),a=r.Node=function(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];var d=n.d.createElement(e);return null!=t&&Object.keys(t).forEach(function(e){d.setAttribute(e,t[e])}),a.length>0&&a.forEach(function(e){"string"==typeof e&&(d.innerHTML=e),"object"===(void 0===e?"undefined":o(e))&&d.appendChild(e)}),d};r.NodeSerializer=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];for(var n=[],i=0;i<e;i++)n.push(a.apply(void 0,r));return n}},{"../app":1}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.createStore=function(e){var t=void 0,r=[];return{dispatch:function(o){t=e(t,o),console.log(o,t),r.forEach(function(e){return e(t,o)})},getState:function(){return t},subscribe:function(e){r.push(e)}}}},{}]},{},[1]);
//# sourceMappingURL=app.min.js.map
