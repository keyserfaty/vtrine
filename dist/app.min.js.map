{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/app.js","src/components/Downloads.js","src/components/OnBoarding.js","src/components/SearchBoxMain.js","src/helpers/Node.js","src/helpers/store.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_store","_Downloads","_SearchBoxMain","_OnBoarding","d","document","initialState","routes","path","searchValue","displayDownloads","imagesQueue","reducer","state","arguments","undefined","action","type","_extends","payload","concat","_toConsumableArray","image","filter","Number","id","store","createStore","body","querySelector","header","folder","single","subscribe","props","dispatch","searchBoxMainPreviousNode","appendChild","_SearchBoxMain2","default","parentNode","removeChild","_OnBoarding2","downloadPreviousNode","_Downloads2","content","ul","window","history","pushState","addEventListener","_Node","Downloads","clearOnClick","buttonOnClick","ulOnClick","target","attributes","nodeValue","Node","class","onClick","apply","map","style","OnBoarding","SearchBoxMain","onKeyupInput","keyCode","value","onKeyUp","placeholder","_app","EVENTS","onLoad","elem","attrs","_len","children","Array","_key","node","createElement","Object","keys","forEach","key","hasOwnProperty","setAttribute","child","innerHTML","_typeof","subscribers","console","log","handle","getState","handler","push"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { createStore } from './helpers/store'\n\nimport Downloads from './components/Downloads'\nimport SearchBoxMain from './components/SearchBoxMain'\nimport OnBoarding from './components/OnBoarding'\n\nexport const d = document\n\n// model\nconst initialState = {\n  routes: {\n    path: '/'\n  },\n  searchValue: '',\n  displayDownloads: false,\n  imagesQueue: ['./statics/images/1.jpg', './statics/images/1.jpg']\n}\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ON_INPUT_ENTER_KEY_DOWN': {\n      return {\n        ...state,\n        searchValue: action.payload.searchValue,\n        routes: {\n          path: '/search'\n        }\n      }\n    }\n\n    case 'ON_TOGGLE_DOWNLOADS': {\n      return {\n        ...state,\n        displayDownloads: !state.displayDownloads,\n      }\n    }\n\n    case 'ON_CLEAR_ALL_DOWNLOADS': {\n      return {\n        ...state,\n        imagesQueue: [],\n      }\n    }\n\n    case 'ON_ADD_IMAGE_TO_QUEUE': {\n      return {\n        ...state,\n        imagesQueue: [\n          ...state.imagesQueue,\n          ...action.payload.image\n        ]\n      }\n    }\n\n    case 'ON_REMOVE_IMAGE_FROM_QUEUE': {\n      return {\n        ...state,\n        imagesQueue: state.imagesQueue.filter((image, i) => i !== Number(action.payload.id))\n      }\n    }\n\n    default:\n      return state\n  }\n}\n\nconst store = createStore(reducer)\n\n// view\nconst body = d.querySelector('body')\nconst header = d.querySelector('header')\nconst folder = header.querySelector('.downloads')\nconst single = body.querySelector('.single')\n\nstore.subscribe((state, action) => {\n  const props = {\n    dispatch: store.dispatch,\n    ...state,\n  }\n\n  // route changes\n  const searchBoxMainPreviousNode = d.querySelector('#search')\n\n  if (state.routes.path === '/') {\n    single.appendChild(SearchBoxMain(props))\n  }\n\n  if (state.routes.path !== '/' && searchBoxMainPreviousNode != null) {\n    searchBoxMainPreviousNode.parentNode.removeChild(searchBoxMainPreviousNode)\n  }\n\n  if (state.routes.path === '/search' && single.querySelector('#on-boarding') == null) {\n    single.appendChild(OnBoarding(props))\n  }\n\n  // displayDownloads changes\n  const downloadPreviousNode = d.querySelector('#download')\n\n  if (state.displayDownloads && downloadPreviousNode == null) {\n    body.appendChild(Downloads(props))\n  }\n\n  if (!state.displayDownloads && downloadPreviousNode != null) {\n    downloadPreviousNode.parentNode.removeChild(downloadPreviousNode)\n  }\n\n  // imagesQueue changes\n  const content = body.querySelector('#download .content')\n\n  if (state.imagesQueue.length === 0 && content != null) {\n    const ul = content.querySelector('#download .content ul')\n\n    if (ul != null) {\n      content.removeChild(ul)\n    }\n  }\n\n  switch (action.type) {\n    case 'ON_INPUT_ENTER_KEY_DOWN': {\n      window.history.pushState('', '', 'search?q=' + state.searchValue);\n      break\n    }\n  }\n})\n\n// events\nwindow.addEventListener('load', () => {\n  store.dispatch({ type: 'ON_WINDOW_LOAD' })\n})\n\nfolder.addEventListener('click', () => {\n  store.dispatch({ type: 'ON_TOGGLE_DOWNLOADS' })\n})\n","import { Node } from '../helpers/Node'\n\nconst Downloads = props => {\n  const {\n    dispatch,\n    imagesQueue,\n  } = props\n\n  // Events\n  const clearOnClick = () => {\n    dispatch({ type: 'ON_CLEAR_ALL_DOWNLOADS' })\n  }\n\n  const buttonOnClick = () => {\n    dispatch({ type: 'ON_DOWNLOAD_ALL_DOWNLOADS' })\n  }\n\n  const ulOnClick = e => {\n    if (e.target.parentNode.id.length) {\n      if (e.target.attributes[0].nodeValue === 'remove') {\n        dispatch({type: 'ON_REMOVE_IMAGE_FROM_QUEUE', payload: {id: e.target.parentNode.id}})\n      }\n\n      if (e.target.attributes[0].nodeValue === 'download') {\n        dispatch({type: 'ON_DOWNLOAD_IMAGE_FROM_QUEUE', payload: {id: e.target.parentNode.id}})\n      }\n    }\n  }\n\n  // DOM\n  return (\n    Node('div', { id: 'download' },\n      Node('div', { class: 'header' },\n        Node('div', { class: 'title' }, 'My Collection'),\n        Node('div', { class: 'clear', onClick: clearOnClick }, 'Clear all')),\n      Node('div', { class: 'arrow' }),\n      Node('div', { class: 'images' },\n        Node('div', { class: 'content' },\n          Node('ul', { onClick: ulOnClick },\n            ...imagesQueue.map((image, i) =>\n              Node('li', { class: 'image', style: `background: url('${image}')` },\n                Node('div', { class: 'actions', id: i },\n                  Node('div', { class: 'remove' }), Node('div', { class: 'download' })))\n            )))),\n      Node('div', { class: 'footer' },\n        Node('button', { onClick: buttonOnClick }, 'Download selection')\n      )\n    )\n  )\n}\n\nexport default Downloads\n","import { Node } from '../helpers/Node'\n\nconst OnBoarding = props => {\n  return (\n    Node('div', { id: 'on-boarding' },\n      Node('div', { class: 'image' }),\n      Node('div', { class: 'caption' }, 'Press spacebar to generate a photo'),\n      Node('div', { class: 'footer' },\n        Node('div', { class: 'skip' }, 'Skip'),\n        Node('div', { class: 'nav' },\n          Node('ul', null,\n            Node('li'), Node('li'), Node('li'))),\n        Node('div', { class: 'next' }, 'Next')))\n  )\n}\n\nexport default OnBoarding\n","import { Node } from '../helpers/Node'\n\nconst SearchBoxMain = props => {\n  const { dispatch } = props\n\n  const onKeyupInput = e => {\n    if (e.keyCode === 13) {\n      dispatch({\n        type: 'ON_INPUT_ENTER_KEY_DOWN',\n        payload: {\n          searchValue: e.target.value,\n        }\n      })\n    }\n  }\n\n  return (\n    Node('div', { id: 'search' },\n      Node('div', { class: 'search-box', onKeyUp: onKeyupInput },\n        Node('div', { class: 'icon' }),\n        Node('input', { type: 'text', placeholder: 'Search photos' }))\n    )\n  )\n}\n\nexport default SearchBoxMain\n","import { d } from '../app'\n\nconst EVENTS = {\n  onClick: 'click',\n  onKeyUp: 'keyup',\n  onLoad: 'load'\n}\n\nexport const Node = (elem, attrs, ...children) => {\n  let node = d.createElement(elem)\n\n  if (attrs != null) {\n    Object.keys(attrs).forEach(key => {\n      if (EVENTS.hasOwnProperty(key)) {\n        node.addEventListener(EVENTS[key], attrs[key])\n      } else {\n        node.setAttribute(key, attrs[key])\n      }\n    })\n  }\n\n  if (children.length > 0) {\n    children.forEach(child => {\n      if (typeof child === 'string') {\n        node.innerHTML = child\n      }\n\n      if (typeof child === 'object') {\n        node.appendChild(child)\n      }\n    })\n  }\n\n  return node\n}\n","export const createStore = function createStoreFn (reducer) {\n  let state = undefined\n  let subscribers = []\n\n  return {\n    dispatch: function (action) {\n      state = reducer(state, action)\n      console.log(action, state)\n      subscribers.forEach(function (handle) {\n        return handle(state, action)\n      })\n    },\n    getState: function () {\n      return state\n    },\n    subscribe: function (handler) {\n      subscribers.push(handler)\n    }\n  }\n}\n"]}