{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","d","document","Node","elem","attrs","_len","arguments","children","Array","_key","node","createElement","Object","keys","forEach","key","setAttribute","child","innerHTML","_typeof","appendChild","initialState","searchValue","displayDownloads","reducer","state","undefined","action","type","_extends","payload","store","subscribers","dispatch","console","log","handle","getState","subscribe","handler","push","searchInput","querySelector","body","header","folder","arrow","class","imagesList","liList","map","image","style","ul","apply","concat","_toConsumableArray","content","images","button","footer","clear","title","_header","downloadsComponent","id","downloadPreviousNode","removeChild","window","addEventListener","keyCode","target","value"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","const d = document\n\nconst createStore = function createStoreFn (reducer) {\n  let state = undefined\n  let subscribers = []\n\n  return {\n    dispatch: function (action) {\n      state = reducer(state, action)\n      console.log(action, state)\n      subscribers.forEach(function (handle) {\n        return handle(state, action)\n      })\n    },\n    getState: function () {\n      return state\n    },\n    subscribe: function (handler) {\n      subscribers.push(handler)\n    }\n  }\n}\n\nconst Node = (elem, attrs, ...children) => {\n  let node = d.createElement(elem)\n\n  if (attrs != null) {\n    Object.keys(attrs).forEach(key => {\n      node.setAttribute(key, attrs[key])\n    })\n  }\n\n  if (children.length > 0) {\n    children.forEach(child => {\n      if (typeof child === 'string') {\n        node.innerHTML = child\n      }\n\n      if (typeof child === 'object') {\n        node.appendChild(child)\n      }\n    })\n  }\n\n  return node\n}\n\n// TODO: won't work with same child props. Works only the first time\nconst NodeSerializer = (qty, ...node) => {\n  let list = []\n  for (let i = 0; i < qty; i++) {\n    list.push(Node(...node))\n  }\n\n  return list\n}\n\n// model\nconst initialState = {\n  searchValue: '',\n  displayDownloads: false,\n}\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ON_INPUT_ENTER_KEY_DOWN': {\n      return {\n        ...state,\n        searchValue: action.payload.searchValue,\n      }\n    }\n\n    case 'ON_TOGGLE_DOWNLOADS': {\n      return {\n        ...state,\n        displayDownloads: !state.displayDownloads,\n      }\n    }\n\n    default:\n      return state\n  }\n}\n\nconst store = createStore(reducer)\n\n// view\nconst searchInput = d.querySelector('input')\nconst body = d.querySelector('body')\nconst header = d.querySelector('header')\nconst folder = header.querySelector('.downloads')\n\nstore.subscribe((state, action) => {\n  switch (action.type) {\n    case 'ON_INPUT_ENTER_KEY_DOWN': {\n      console.log('holi')\n      break\n    }\n\n    case 'ON_TOGGLE_DOWNLOADS': {\n      // Nodes creation\n      const arrow = Node('div', { class: 'arrow' })\n\n      // TODO: should come from state\n      const imagesList = ['./statics/images/1.jpg', './statics/images/1.jpg']\n      const liList = imagesList.map(image =>\n        Node('li', { class: 'image', style: `background: url('${image}')` },\n          Node('div', { class: 'actions' },\n            Node('div', { class: 'remove' }), Node('div', { class: 'download' })))\n      )\n\n      const ul = Node('ul', null, ...liList)\n      const content = Node('div', { class: 'content' }, ul)\n      const images = Node('div', { class: 'images' }, content)\n\n      const button = Node('button', null, 'Download selection')\n      const footer = Node('div', { class: 'footer' }, button)\n\n      const clear = Node('div', { class: 'clear' }, 'Clear all')\n      const title = Node('div', { class: 'title' }, 'My Collection')\n\n      const header = Node('div', { class: 'header' }, title, clear)\n      const downloadsComponent = Node('div', { id: 'download' }, header, arrow, images, footer)\n\n      // DOM changes\n      const displayDownloads = state.displayDownloads\n\n      if (displayDownloads) {\n        body.appendChild(downloadsComponent)\n      } else {\n        const downloadPreviousNode = d.querySelector('#download')\n        body.removeChild(downloadPreviousNode)\n      }\n\n      break\n    }\n  }\n})\n\n// events\nwindow.addEventListener('load', () => {\n  store.dispatch({ type: 'ON_WINDOW_LOAD' })\n})\n\nsearchInput.addEventListener('keyup', e => {\n  if (e.keyCode === 13) {\n    store.dispatch({\n      type: 'ON_INPUT_ENTER_KEY_DOWN',\n      payload: {\n        searchValue: e.target.value,\n      }\n    })\n  }\n})\n\nfolder.addEventListener('click', () => {\n  store.dispatch({ type: 'ON_TOGGLE_DOWNLOADS' })\n})"]}